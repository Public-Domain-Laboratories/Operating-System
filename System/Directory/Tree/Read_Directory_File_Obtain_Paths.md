To obtain paths and make a list of paths reading a raw directory file in binary might be necessary.

A higher level functions might be used. It is labor intesive to find the right directory file implementations for each operating system  without breaking the directory files that are in binary.
